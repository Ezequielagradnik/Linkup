"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{9871:(e,t,r)=>{r.d(t,{$:()=>c});var n=r(5155),o=r(2115),a=r(2317),i=r(1027),s=r(8368);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary-500 text-white shadow-sm hover:bg-secondary-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:r,variant:o,size:i,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,n.jsx)(u,{className:(0,s.cn)(l({variant:o,size:i,className:r})),ref:t,...d})});c.displayName="Button"},4049:(e,t,r)=>{r.d(t,{A:()=>l,AuthProvider:()=>s});var n=r(5155),o=r(2115),a=r(7684);let i=(0,o.createContext)(),s=e=>{let{children:t}=e,[r,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(async()=>{let e=localStorage.getItem("token");if(e)try{let t=(0,a.s)(e),r=Date.now()/1e3;if(t.exp&&t.exp>r){let t="true"===localStorage.getItem("isAdmin");s({token:e,isAdmin:t})}else await u()}catch(e){console.error("Error decoding token:",e),await u()}c(!1)})()},[]);let d=async e=>{try{if("string"!=typeof e||""===e.trim())throw Error("Invalid token: Token must be a non-empty string");let t=(0,a.s)(e).isAdmin||!1;return localStorage.setItem("token",e),localStorage.setItem("isAdmin",t.toString()),s({token:e,isAdmin:t}),!0}catch(e){return console.error("Error logging in:",e),await u(),!1}},u=async()=>{localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),s(null)},f=async()=>{try{let e=await fetch("/api/refresh-token",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){let{token:t}=await e.json();return await d(t),!0}throw Error("Failed to refresh token")}catch(e){return console.error("Error refreshing token:",e),await u(),!1}};return(0,n.jsx)(i.Provider,{value:{user:r,loading:l,login:d,logout:u,refreshToken:f,isTokenExpired:()=>{let e=localStorage.getItem("token");if(!e)return!0;try{let t=(0,a.s)(e),r=Date.now()/1e3;return t.exp<r}catch(e){return console.error("Error checking token expiration:",e),!0}}},children:t})},l=()=>(0,o.useContext)(i)},8368:(e,t,r)=>{r.d(t,{cn:()=>a});var n=r(3463),o=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.QP)((0,n.$)(t))}},6217:(e,t,r)=>{r.d(t,{UC:()=>et,VY:()=>en,ZL:()=>Y,bL:()=>K,bm:()=>eo,hE:()=>er,hJ:()=>ee,l9:()=>Q});var n=r(2115),o=r(3610),a=r(8068),i=r(8166),s=r(7668),l=r(1488),c=r(9674),d=r(196),u=r(7323),f=r(7028),p=r(3360),g=r(2292),h=r(4065),m=r(5587),v=r(2317),y=r(5155),b="Dialog",[w,x]=(0,i.A)(b),[k,I]=w(b),D=e=>{let{__scopeDialog:t,children:r,open:o,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,d=n.useRef(null),u=n.useRef(null),[f=!1,p]=(0,l.i)({prop:o,defaultProp:a,onChange:i});return(0,y.jsx)(k,{scope:t,triggerRef:d,contentRef:u,contentId:(0,s.B)(),titleId:(0,s.B)(),descriptionId:(0,s.B)(),open:f,onOpenChange:p,onOpenToggle:n.useCallback(()=>p(e=>!e),[p]),modal:c,children:r})};D.displayName=b;var C="DialogTrigger",j=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=I(C,r),s=(0,a.s)(t,i.triggerRef);return(0,y.jsx)(p.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":V(i.open),...n,ref:s,onClick:(0,o.m)(e.onClick,i.onOpenToggle)})});j.displayName=C;var E="DialogPortal",[R,N]=w(E,{forceMount:void 0}),A=e=>{let{__scopeDialog:t,forceMount:r,children:o,container:a}=e,i=I(E,t);return(0,y.jsx)(R,{scope:t,forceMount:r,children:n.Children.map(o,e=>(0,y.jsx)(f.C,{present:r||i.open,children:(0,y.jsx)(u.Z,{asChild:!0,container:a,children:e})}))})};A.displayName=E;var O="DialogOverlay",_=n.forwardRef((e,t)=>{let r=N(O,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=I(O,e.__scopeDialog);return a.modal?(0,y.jsx)(f.C,{present:n||a.open,children:(0,y.jsx)(S,{...o,ref:t})}):null});_.displayName=O;var S=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=I(O,r);return(0,y.jsx)(h.A,{as:v.DX,allowPinchZoom:!0,shards:[o.contentRef],children:(0,y.jsx)(p.sG.div,{"data-state":V(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),F="DialogContent",P=n.forwardRef((e,t)=>{let r=N(F,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,a=I(F,e.__scopeDialog);return(0,y.jsx)(f.C,{present:n||a.open,children:a.modal?(0,y.jsx)(T,{...o,ref:t}):(0,y.jsx)(B,{...o,ref:t})})});P.displayName=F;var T=n.forwardRef((e,t)=>{let r=I(F,e.__scopeDialog),i=n.useRef(null),s=(0,a.s)(t,r.contentRef,i);return n.useEffect(()=>{let e=i.current;if(e)return(0,m.Eq)(e)},[]),(0,y.jsx)($,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.m)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,o.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,o.m)(e.onFocusOutside,e=>e.preventDefault())})}),B=n.forwardRef((e,t)=>{let r=I(F,e.__scopeDialog),o=n.useRef(!1),a=n.useRef(!1);return(0,y.jsx)($,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current||null===(i=r.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"!==t.detail.originalEvent.type||(a.current=!0));let s=t.target;(null===(i=r.triggerRef.current)||void 0===i?void 0:i.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),$=n.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,u=I(F,r),f=n.useRef(null),p=(0,a.s)(t,f);return(0,g.Oh)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.n,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,y.jsx)(c.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":V(u.open),...l,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(X,{titleId:u.titleId}),(0,y.jsx)(H,{contentRef:f,descriptionId:u.descriptionId})]})]})}),G="DialogTitle",M=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=I(G,r);return(0,y.jsx)(p.sG.h2,{id:o.titleId,...n,ref:t})});M.displayName=G;var q="DialogDescription",U=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,o=I(q,r);return(0,y.jsx)(p.sG.p,{id:o.descriptionId,...n,ref:t})});U.displayName=q;var W="DialogClose",z=n.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=I(W,r);return(0,y.jsx)(p.sG.button,{type:"button",...n,ref:t,onClick:(0,o.m)(e.onClick,()=>a.onOpenChange(!1))})});function V(e){return e?"open":"closed"}z.displayName=W;var Z="DialogTitleWarning",[J,L]=(0,i.q)(Z,{contentName:F,titleName:G,docsSlug:"dialog"}),X=e=>{let{titleId:t}=e,r=L(Z),o="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return n.useEffect(()=>{t&&!document.getElementById(t)&&console.error(o)},[o,t]),null},H=e=>{let{contentRef:t,descriptionId:r}=e,o=L("DialogDescriptionWarning"),a="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(o.contentName,"}.");return n.useEffect(()=>{var e;let n=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");r&&n&&!document.getElementById(r)&&console.warn(a)},[a,t,r]),null},K=D,Q=j,Y=A,ee=_,et=P,er=M,en=U,eo=z},7684:(e,t,r)=>{r.d(t,{s:()=>o});class n extends Error{}function o(e,t){let r;if("string"!=typeof e)throw new n("Invalid token specified: must be a string");t||(t={});let o=!0===t.header?0:1,a=e.split(".")[o];if("string"!=typeof a)throw new n(`Invalid token specified: missing part #${o+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(a)}catch(e){throw new n(`Invalid token specified: invalid base64 for part #${o+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new n(`Invalid token specified: invalid json for part #${o+1} (${e.message})`)}}n.prototype.name="InvalidTokenError"}}]);