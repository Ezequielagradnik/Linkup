(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{4033:(e,t,a)=>{Promise.resolve().then(a.bind(a,9486))},9486:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var r=a(5155),s=a(2115),l=a(6046),o=a(8368);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,o.cn)("w-full caption-bottom text-sm",a),...s})})});n.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,o.cn)("[&_tr]:border-b",a),...s})});i.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,o.cn)("[&_tr:last-child]:border-0",a),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});c.displayName="TableRow";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableHead";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});f.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var h=a(6283),m=a(4049);function p(){let[e,t]=(0,s.useState)([]),a=(0,l.useRouter)(),{user:o}=(0,m.A)();(0,s.useEffect)(()=>{o&&o.isAdmin?p():a.push("/")},[o,a]);let p=async()=>{try{let e=localStorage.getItem("token");if(!e){a.push("/login");return}let r=await fetch("/api/admin/applications",{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();t(e)}else throw Error("Failed to fetch applications")}catch(e){console.error("Error fetching applications:",e),alert("An error occurred while fetching applications")}},x=async(e,t)=>{try{let a=localStorage.getItem("token");if((await fetch("/api/admin/applications/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({status:t})})).ok)p();else throw Error("Failed to update application status")}catch(e){console.error("Error updating application status:",e),alert("An error occurred while updating the application status")}};return o&&o.isAdmin?(0,r.jsxs)("div",{className:"container mx-auto py-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"})}),(0,r.jsxs)(n,{children:[(0,r.jsx)(i,{children:(0,r.jsxs)(c,{children:[(0,r.jsx)(u,{children:"Name"}),(0,r.jsx)(u,{children:"Email"}),(0,r.jsx)(u,{children:"Startup Name"}),(0,r.jsx)(u,{children:"Stage"}),(0,r.jsx)(u,{children:"Status"}),(0,r.jsx)(u,{children:"Action"})]})}),(0,r.jsx)(d,{children:e.map(e=>(0,r.jsxs)(c,{children:[(0,r.jsx)(f,{children:"".concat(e.firstName," ").concat(e.lastName)}),(0,r.jsx)(f,{children:e.email}),(0,r.jsx)(f,{children:e.startupName}),(0,r.jsx)(f,{children:e.stage}),(0,r.jsx)(f,{children:e.status}),(0,r.jsx)(f,{children:(0,r.jsxs)(h.l6,{value:e.status,onValueChange:t=>x(e.id,t),children:[(0,r.jsx)(h.bq,{className:"w-[180px]",children:(0,r.jsx)(h.yv,{placeholder:"Change status"})}),(0,r.jsxs)(h.gC,{children:[(0,r.jsx)(h.eb,{value:"pending",children:"Pending"}),(0,r.jsx)(h.eb,{value:"accepted",children:"Accepted"}),(0,r.jsx)(h.eb,{value:"rejected",children:"Rejected"})]})]})})]},e.id))})]})]}):null}},6283:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>h,gC:()=>f,l6:()=>d,yv:()=>c});var r=a(5155),s=a(2115),l=a(5880),o=a(2645),n=a(7193),i=a(8368);let d=l.bL;l.YJ;let c=l.WT,u=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:[s,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,position:o="popper",...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{ref:t,className:(0,i.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:o,...n,children:(0,r.jsx)(l.LM,{className:(0,i.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})});f.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=l.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:s})]})});h.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=l.wv.displayName},4049:(e,t,a)=>{"use strict";a.d(t,{A:()=>n,AuthProvider:()=>o});var r=a(5155),s=a(2115);let l=(0,s.createContext)(),o=e=>{let{children:t}=e,[a,o]=(0,s.useState)(null),[n,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("token");e?d(e):i(!1)},[]);let d=async e=>{try{let t=await fetch("http://localhost:5000/api/users/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();o(e)}else localStorage.removeItem("token")}catch(e){console.error("Error fetching user profile:",e)}finally{i(!1)}},c=async(e,t)=>{try{let a=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(a.ok){let t=await a.json();return localStorage.setItem("token",t.token),await d(t.token),"linkup.startups@gmail.com"===e&&o(e=>({...e,isAdmin:!0})),!0}return!1}catch(e){return console.error("Error logging in:",e),!1}},u=async(e,t,a)=>{try{if((await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:a})})).ok)return!0;return!1}catch(e){return console.error("Error registering:",e),!1}};return(0,r.jsx)(l.Provider,{value:{user:a,loading:n,login:c,register:u,logout:()=>{localStorage.removeItem("token"),o(null)}},children:t})},n=()=>(0,s.useContext)(l)},8368:(e,t,a)=>{"use strict";a.d(t,{cn:()=>l});var r=a(3463),s=a(9795);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[726,138,814,441,517,358],()=>t(4033)),_N_E=e.O()}]);